<section class="section map">
<!--  <div class="container">-->
    <div class="map__wrapper">
      <div class="map__block">
        <h3 class="map__title">Контакты</h3>
        <span class="map__adress">г. Серпухов, <br> улица Октябрьская д. 12</span>
        <span class="map__time">пн-вс 09:00 - 20:00</span>
        <span class="map__tel">+7 (926) 813-36-21</span>
        <span class="map__mail">info@seo-vk.ru </span>
        <ul class="map__list">
          <li class="map__item">
            <a href="#!" class="map__link">
              <svg width="30" height="30">
                <use xlink:href="./img/icons/sprite.svg#whatsapp"></use>
              </svg>
            </a>
          </li>
          <li class="map__item">
            <a href="#!" class="map__link">
              <img src="./img/map/telegram.png" width="30" height="30" alt="Telegram">
            </a>
          </li>
        </ul>

<!--    <div id="map"></div>-->
<!--      </div>-->
    </div>
      <script type="text/javascript" charset="utf-8" async src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3AOMI5-rU0jUaq96JZEgUafwxyZbr4edQR&amp;width=100%&amp;height=100%&amp;lang=ru_RU&amp;scroll=true"></script>

    </div>


  <script type="module">

    // var myPlacemark = new ymaps.Placemark([55.76, 37.56], {}, {
    //   iconLayout: 'default#image',
    //   iconImageHref: '/maps/d../../jsapi/doc/2.1/examples/images/myIcon.gif',
    //   iconImageSize: [30, 42],
    //   iconImageOffset: [-3, -42]
    // });

    ymaps.ready([
      'Map', 'Placemark', 'Clusterer', 'ClusterPlacemark'
    ]).then(function() {
      var map = new ymaps.Map('map', {
        center: [55.75, 37.62], zoom: 9, controls: []
      });
      var placemarks = [
        new ymaps.Placemark([55.75, 37.62]),
        new ymaps.Placemark([55.75, 37.52]),
        new ymaps.Placemark([55.75, 37.72]),
      ];

      var clusterer = createVisitedClusterer({
        // Опции кластеризатора.
        clusterIconColor: 'black'
      }, {
        // Опции "посещенных" кластеров.
        iconColor: 'red'
      });
      clusterer.add(placemarks);

      map.geoObjects.add(clusterer);
    }).catch(console.error);

    function createVisitedClusterer(options, visitedClusterOptions) {
      // Создаем кластеризатор.
      var clusterer = new ymaps.Clusterer(options);

      // Сохраняем старую функцию createCluster с помощью Function.prototype.bind.
      var defaultCreateCluster = clusterer.createCluster.bind(clusterer);

      // Хеш посещенных кластеров.
      var visitedClusters = { /* 'id,id,id': true */ };

      // Переопределяем метод createCluster у кластеризатора.
      clusterer.createCluster = function(center, geoObjects) {
        // Создаем стандартный кластер.
        var cluster = defaultCreateCluster(center, geoObjects);

        // Собираем уникальные идентификаторы для объектов кнутри кластера.
        var ids = geoObjects.map(function(x) { return getUniqueId(x); });
        ids.sort(function(lhs, rhs) { return lhs - rhs; });

        // Собираем уникальный идентификатор кластера.
        var clusterId = ids.join(',');

        if (visitedClusters[clusterId]) {
          // Если кластер был посещен ранее, сразу применяем опции.
          cluster.options.set(visitedClusterOptions);
        } else {
          cluster.events.add('click', function() {
            // Помечаем кластер как посещенный при клике.
            visitedClusters[clusterId] = true;

            // Применяем опции, на случай зум по клику выключен,
            // или зум уже максимальный.
            cluster.options.set(visitedClusterOptions);
          });
        }

        return cluster;
      };

      return clusterer;
    }

    // Генерация уникальных идентификаторов.
    var uniqueIds = new WeakMap();
    var lastUniqueId = 0;
    function getUniqueId(geoObject) {
      if (!uniqueIds.has(geoObject)) {
        uniqueIds.set(geoObject, lastUniqueId++);
      }
      return uniqueIds.get(geoObject);
    }

  </script>

</section>